(window.webpackJsonpdad_jokes=window.webpackJsonpdad_jokes||[]).push([[0],{35:function(e,t,a){e.exports=a(87)},40:function(e,t,a){},86:function(e,t,a){},87:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(25),c=a.n(o),s=(a(40),a(26)),i=a(6),u=a.n(i),l=a(12),d=a(9),m=a(27),p=a(28),f=a(33),h=a(29),g=a(34),k=a(30),j=a.n(k),v=function(e){var t=e.getNewJokes;return r.a.createElement("div",{className:"Sidebar"},r.a.createElement("h1",{className:"Sidebar__h1"},"Dad ",r.a.createElement("span",{className:"Sidebar__cursive"},"Jokes")),r.a.createElement("span",{className:"Sidebar__icon",role:"img","aria-label":"Face With Tears of Joy"},"\ud83d\ude02"),r.a.createElement("button",{className:"Sidebar__btn",onClick:t},"New Jokes"))},b=function(e){return r.a.createElement("div",{className:"Board"},e.children)},w=function(e){var t=e.vote,a=e.changeVote,n=e.id,o=(0,e.indicatorsChange)(t).border,c=function(e,t){a(e,t)},s="vote__count ".concat(o);return r.a.createElement("div",{className:"Joke__vote vote"},r.a.createElement("span",{className:"vote__arrow",onClick:function(){return c("up",n)}},"\u2191"),r.a.createElement("span",{className:s},t),r.a.createElement("span",{className:"vote__arrow",onClick:function(){return c("down",n)}},"\u2193"))},E=function(e){var t=e.emoji;return r.a.createElement("span",{className:"Joke__icon IconIndicator",role:"img","aria-label":"".concat(t," face")},t)},O=function(e){var t=e.txt,a=e.vote,n=e.changeVote,o=e.id,c=e.indicatorsChange,s=e.newJoke,i=e.changeViewedStatus,u=c(a).emoji;return r.a.createElement("li",{className:"Joke",onTouchStart:function(){return i(o)},onMouseDown:function(){return i(o)}},r.a.createElement(w,{vote:a,changeVote:n,id:o,indicatorsChange:c}),r.a.createElement("p",{className:"Joke__txt"},t," "),s&&r.a.createElement("span",{className:"Joke__new-indicator"},"NEW"),r.a.createElement(E,{emoji:u}))},y=function(e){var t=e.jokes,a=e.changeVote,n=e.indicatorsChange,o=e.changeViewedStatus;return r.a.createElement("ul",{className:"Jokes"},t.map(function(e){return r.a.createElement(O,{id:e.id,key:e.id,txt:e.txt,vote:e.vote,changeVote:a,indicatorsChange:n,newJoke:e.newJoke,changeViewedStatus:o})}))},S=a(31),J=a(2),_=a(32);function N(){var e=Object(S.a)(["\n  display: block;\n  margin: 0 auto;\n  transform: translateX(-25px);\n"]);return N=function(){return e},e}var P=Object(J.css)(N()),x=function(e){var t=e.loading;return r.a.createElement("div",{className:"sweet-loading",style:{width:"100%",height:"100vh",backgroundColor:"rgba(0,0,0,.7)",display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden"}},r.a.createElement(_.PacmanLoader,{css:P,sizeUnit:"px",size:50,color:"#e1b12c",loading:t}))};function V(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var C=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={jokes:[],loading:!1,jokesPage:1},a.fetchJokes=Object(d.a)(u.a.mark(function e(){var t,n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"https://icanhazdadjoke.com/search",a.setState({loading:!0}),e.next=4,j.a.get("https://icanhazdadjoke.com/search",{headers:{Accept:"application/json"},params:{limit:10,page:a.state.jokesPage}});case 4:t=e.sent,n=t.data.results.slice(0,a.props.jokesPerRequest).map(function(e){return{txt:e.joke,vote:0,id:e.id,newJoke:!0}}),a.setState(function(e){return{jokes:a.sortJokesByVotes([].concat(Object(l.a)(e.jokes),Object(l.a)(n))),loading:!1,jokesPage:e.jokesPage+1}});case 7:case"end":return e.stop()}},e)})),a.changeVote=function(e,t){return a.setState(function(n){var r=n.jokes.map(function(a){return a.id===t?function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?V(a,!0).forEach(function(t){Object(s.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):V(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},a,{vote:a.vote+("up"===e?1:-1)}):a});return{jokes:a.sortJokesByVotes(r)}})},a.indicatorsChange=function(e){var t={border:"vote__count",emoji:""};return e>5?{border:t.border+="--great",emoji:"\ud83d\ude02"}:e>3&&e<=5?{border:t.border+="--good",emoji:"\ud83d\ude0a"}:e>=-3&&e<=3?{border:t.border+="--mediocrate",emoji:"\ud83e\udd14"}:e<-3&&e>=-5?{border:t.border+="--bad",emoji:"\ud83d\ude12"}:e<-5?{border:t.border+="--horrible",emoji:"\ud83d\ude14"}:void 0},a.sortJokesByVotes=function(e){return e.sort(function(e,t){return t.vote-e.vote})},a.changeViewedStatus=function(e){var t=a.state.jokes.map(function(t){return t.id===e&&(t.newJoke=!1),t});a.setState({jokes:t})},a.saveToLS=function(){var e=Object(d.a)(u.a.mark(function e(t,a){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.localStorage.setItem("jokes",JSON.stringify(t));case 2:return e.next=4,window.localStorage.setItem("jokesPage",a);case 4:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a.retrieveFromLS=function(){var e=window.localStorage.getItem("jokes"),t=window.localStorage.getItem("jokesPage");return[JSON.parse(e),JSON.parse(t)]},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(d.a)(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.retrieveFromLS();case 2:null!==(t=e.sent)[0]?this.setState({jokes:t[0],jokesPage:t[1]}):this.fetchJokes();case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(d.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.saveToLS(this.state.jokes,this.state.jokesPage);case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:"DadJokes"},this.state.loading?r.a.createElement(x,{loading:this.state.loading}):r.a.createElement(r.a.Fragment,null,r.a.createElement(v,{getNewJokes:this.fetchJokes}),r.a.createElement(b,null,r.a.createElement(y,{jokes:this.state.jokes,changeVote:this.changeVote,indicatorsChange:this.indicatorsChange,changeViewedStatus:this.changeViewedStatus}))))}}]),t}(n.Component);C.defaultProps={jokesPerRequest:10};var D=C,I=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(D,null))};a(86);c.a.render(r.a.createElement(I,null),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.08b3b87c.chunk.js.map